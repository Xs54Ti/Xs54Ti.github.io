<!DOCTYPE html> 
<html> 
	<head> 
		<meta charset="utf-8"  /> 
		<title>Déplacer un élément à la souris</title>

		<style>
			#square 
			{ 
				position:absolute; 
				height:100px; 
				width:100px; 
				background-color:red; 
			} 
			
			#coucou {
				position:relative;
				margin-top:50px;
				margin-left:50px;
				width: 400px;
				height: 400px;
				background-color:green;
			}
		</style> 
	</head> 
	<body> 
		<div id="coucou">
			<div id="square" ontouchstart="on_mouse_down_square(event)"></div> 
		</div>	
	</body> 
</html> 

<script type="text/javascript"> 
	var mouse_down = false; 

	function on_mouse_down_square(event) { 
	 mouse_down=true; 
	} 

	function on_mouse_up(event){ 
	 mouse_down=false; 
	} 

	document.ontouchmove = on_mouse_move; 

	document.ontouchend = on_mouse_up; 

	function on_mouse_move(event) { 
	  if (mouse_down === true) { 
		if(event.touches[0].clientX-50<=0){
			document.querySelector('#square').style.left = 0+'px';
		} else if(event.touches[0].clientX-50>300) {
			document.querySelector('#square').style.left = 300+'px'; 
		} else {
			document.querySelector('#square').style.left = event.touches[0].clientX-50+'px';
		}
		
		if(event.touches[0].clientY-50<=0){
			document.querySelector('#square').style.top = 0+'px';
		} else if(event.touches[0].clientY-50>300) {
			document.querySelector('#square').style.top = 300+'px'; 
		} else {
			document.querySelector('#square').style.top = event.touches[0].clientY-50+'px';
		}
		
		
		if(event.touches[0].clientY-50>=0 && event.touches[0].clientY-50<300) {
			document.querySelector('#square').style.top = event.clientY-50+'px'; 
		}

	  } 
	} 
</script>
